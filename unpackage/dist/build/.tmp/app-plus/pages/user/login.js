(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/login"],{"2b11":function(e,n,o){"use strict";o.r(n);var t=o("46d7"),i=o.n(t);for(var u in t)"default"!==u&&function(e){o.d(n,e,function(){return t[e]})}(u);n["default"]=i.a},"3f27":function(e,n,o){"use strict";var t,i=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){return e.myTools.navTo("user/phoneRegiste")},e.e1=function(n){return e.myTools.navTo("user/retrievePwd")})},u=[];o.d(n,"b",function(){return i}),o.d(n,"c",function(){return u}),o.d(n,"a",function(){return t})},"46d7":function(e,n,o){"use strict";(function(e,t){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=function(){return o.e("components/uni-popup/uni-popup").then(o.bind(null,"9b7c"))},r={components:{uniPopup:u},data:function(){return{navList:[{nid:1,nName:"密码登录"},{nid:2,nName:"验证码登录"}],current:0,seconds:60,isGet:!0,phone:"",pwd:"",code:""}},onLoad:function(n){i=this,i.phone=n.phone,i.pwd=n.pwd,""!=e.getStorageSync("token")&&e.switchTab({url:"../index/home/index"})},methods:{tapChangeNav:function(e){i.current=e},getCode:function(){return i.phone?/^1[3456789]\d{9}$/.test(i.phone)?void i.Api.send({mobile:i.phone,event:"mobilelogin"},function(n){if(console.log(t(n," at pages\\user\\login.vue:165")),1===n.code){e.hideLoading(),i.myTools.myShow("验证码发送成功，请注意查收~",!0),i.isGet=!1;var o=setInterval(function(){i.seconds--,0===i.seconds&&(i.isGet=!0,i.seconds=60,clearInterval(o))},1e3)}else i.myTools.myShow(n.msg,!0)}):(i.myTools.myShow("手机号格式不正确！",!0),!1):(i.myTools.myShow("手机号不能为空！",!0),!1)},login:function(){if(0===i.current){if(!i.phone)return i.myTools.myShow("手机号不能为空！",!0),!1;if(!/^1[3456789]\d{9}$/.test(i.phone))return i.myTools.myShow("手机号格式不正确！",!0),!1;if(!i.pwd)return i.myTools.myShow("密码不能为空！",!0),!1;i.Api.login({account:i.phone,password:i.pwd},function(n){console.log(t(n," at pages\\user\\login.vue:201")),1===n.code?(e.hideLoading(),i.myTools.myShow("登录成功",!0),e.setStorageSync("uid",n.data[0].userinfo.user_id),e.setStorageSync("token",n.data[0].userinfo.token),setTimeout(function(){e.switchTab({url:"/pages/index/home/index"})},1500)):i.myTools.myShow(n.msg,!0)})}else if(1===i.current){if(!i.phone)return i.myTools.myShow("手机号不能为空！",!0),!1;if(!/^1[3456789]\d{9}$/.test(i.phone))return i.myTools.myShow("手机号格式不正确！",!0),!1;if(!i.code)return i.myTools.myShow("验证码不能为空！",!0),!1;i.Api.mobileLogin({mobile:i.phone,captcha:i.code},function(n){console.log(t(n," at pages\\user\\login.vue:232")),1===n.code?(e.hideLoading(),i.myTools.myShow("登录成功",!0),e.setStorageSync("uid",n.data[0].userinfo.user_id),e.setStorageSync("token",n.data[0].userinfo.token),setTimeout(function(){e.switchTab({url:"/pages/index/home/index"})},1500)):i.myTools.myShow(n.msg,!0)})}},showUserAgreement:function(){i.$refs.agreement.open()},agreeUA:function(){i.$refs.agreement.close()}}};n.default=r}).call(this,o("6e42")["default"],o("0de9")["default"])},"48b3":function(e,n,o){},"7f6e":function(e,n,o){"use strict";(function(e){o("38eb"),o("921b");t(o("66fd"));var n=t(o("ca46"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("6e42")["createPage"])},ca46:function(e,n,o){"use strict";o.r(n);var t=o("3f27"),i=o("2b11");for(var u in i)"default"!==u&&function(e){o.d(n,e,function(){return i[e]})}(u);o("e4a0");var r,s=o("f0c5"),a=Object(s["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);n["default"]=a.exports},e4a0:function(e,n,o){"use strict";var t=o("48b3"),i=o.n(t);i.a}},[["7f6e","common/runtime","common/vendor"]]]);